if [ "$HAVE_XSESSIONRC" != 1 ]
then export HAVE_XSESSIONRC=1

[ -r "$HOME/.profile" ] && . "$HOME/.profile"

setxkbmap -option caps:swapescape

# Fix graphical Java programs starting with a blank screen.
# See https://bugs.openjdk.java.net/browse/JDK-8058197
export _JAVA_AWT_WM_NONREPARENTING=1

export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
ibus-daemon --xim -d &

dunst &

export SXHKD_FIFO="$XDG_RUNTIME_DIR/sxhkd/status.fifo"
rm -f "$SXHKD_FIFO" # we should start fresh
mkdir -p "$(dirname "$SXHKD_FIFO")"
mkfifo "$SXHKD_FIFO"
sxhkd -s "$SXHKD_FIFO" >"${TMPDIR:-/tmp}/sxhkd.log" 2>&1 &

XDG_CONFIG_HOME="${XDG_CONFIG_HOME:-$HOME/.config}"
"$XDG_CONFIG_HOME/polybar/launch" &
"$XDG_CONFIG_HOME/bspwm/launch_watchers" &

fi
